"""
–ú–æ–¥—É–ª—å –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–æ–∏—Å–∫–∞ —Å–ª–æ–≤ –≤ —Ç–µ–∫—Å—Ç–µ —Å —É—á–µ—Ç–æ–º —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏.

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö
—Ñ–æ—Ä–º —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤ –∫–∏—Ä–∏–ª–ª–∏—Ü—É –∏ –ø–æ–∏—Å–∫–∞ –∑–∞–¥–∞–Ω–Ω—ã—Ö —Å–ª–æ–≤ –≤ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω–æ–º —Ç–µ–∫—Å—Ç–µ.
–û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π —Å–∏–º–≤–æ–ª–æ–≤ (abc_db) –¥–ª—è
–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏.

–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- abc_db: –°–ª–æ–≤–∞—Ä—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏.
- find_word: –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–ª–æ–≤ –≤ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω–æ–º —Ç–µ–∫—Å—Ç–µ.

–ú–æ–¥—É–ª—å —Ç–∞–∫–∂–µ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
    python main.py <input_text> <file_with_words>

–ì–¥–µ:
    <input_text> - —Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
    <file_with_words> - —Ñ–∞–π–ª —Å–æ —Å–ø–∏—Å–∫–æ–º —Å–ª–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞

–ü—Ä–∏–º–µ—Ä:
    python main.py "Privet, mir!" words.txt
"""

import re
import sys
import time

from utils.filter_util import Filters as f

abc_db = [
    {"–∞": [
        "A", "a", "2", "0", "–∞", "–ê", "ùïí", "ùî∏"
    ]},
    {"–±": [
        "B", "b", "8", "6", "–ë", "–±", "ùïì", "ùîπ"
    ]},
    {"–≤": [
        "B", "8", "V", "v", "–í", "–≤", "ùïß", "ùïç"
    ]},
    {"–≥": [
        "G", "g", "7", "–ì", "–≥", "ùïò", "ùîæ"
    ]},
    {"–¥": [
        "D", "d", "–î", "–¥", "ùïï", "ùîª"
    ]},
    {"–µ": [
        "E", "e", "3", "–ï", "–µ", "ùïñ", "ùîº"
    ]},
    {"—ë": [
        "–ï", "–µ", "E", "e", "3", "ùïñ", "ùîº"
    ]},
    {"–∂": {
        "ZH", "zh", "–ñ", "–∂", "ùï´ùïô", "‚Ñ§‚Ñç"
    }},
    {"–∑": [
        "Z", "z", "3", "–ó", "–ó", "ùï´", "‚Ñ§"
    ]},
    {"–∏": [
        "N", "u", "U", "i", "II", "–ò", "–∏", "ùïö", "ùïÄ"
    ]},
    {"–π": [
        "N", "u", "U", "i", "II", "–π", "–π", "—å–∏", "–¨–ò", "ùïö", "ùïÄ"
    ]},
    {"–∫": [
        "K", "–∫", "–ö", "–∫", "ùïú", "ùïÇ"
    ]},
    {"–ª": [
        "L", "l", "Il", "il", "–õ", "–ª", "ùïù", "ùïÉ"
    ]},
    {"–º": [
        "M", "m", "–ú", "–º", "ùïû", "ùïÑ"
    ]},
    {"–Ω": [
        "N", "n", "H", "–ù", "–Ω", "ùïü", "‚Ñï"
    ]},
    {"–æ": [
        "O", "o", "0", "–û", "–æ", "ùï†", "ùïÜ"
    ]},
    {"–ø": [
        "P", "p", "5", "–ü", "–ø", "ùï°", "‚Ñô"
    ]},
    {"—Ä": [
        "P", "p", "–†", "—Ä", "ùï°", "ùï£", "r", "R", "‚Ñô", "‚Ñù", "ùï£"
    ]},
    {"—Å": [
        "S", "s", "3", "–°", "—Å", "ùï§", "ùïä"
    ]},
    {"—Ç": [
        "T", "t", "2", "–¢", "—Ç", "ùï•", "ùïã"
    ]},
    {"—É": [
        "Y", "y", "U", "u", "–£", "–£", "ùï™", "ùïê"
    ]},
    {"—Ñ": [
        "F", "f", "–§", "—Ñ", "ùïó", "ùîΩ"
    ]},
    {"—Ö": [
        "X", "x", "h", "H", "–•", "—Ö", "ùïô", "‚Ñç"
    ]},
    {"—Ü": [
        "–¶", "—Ü"
    ]},
    {"—á": [
        "CH", "ch", "4", "–ß", "—á", "ùïîùïô", "‚ÑÇ‚Ñç"
    ]},
    {"—à": [
        "SH", "sh", "6", "—à", "–®", "W", "w", "ùï§ùïô", "ùï®", "ùïé"
    ]},
    {"—â": [
        "SH", "sh", "–©", "—â", "ùï§ùïô", "ùïä‚Ñç"
    ]},
    {"—å": [
        "b", "–¨", "—å", "6"
    ]},
    {"—ã": {
        "bI", "bl", "–´", "ùïìùïù", "ùïìùïÄ"
    }},
    {"—ä": [
        "—ä", "–™"
    ]},
    {"—ç": [
        "E", "e", "3", "—ç", "–≠", "ùîº", "ùïñ"
    ]},
    {"—é": [
        "YU", "yu", "—é", "–Æ", "U", "u", "ùï™ùï¶", "ùïêùïå"
    ]},
    {"—è": [
        "–Ø", "—è", "YA", "ya", "Z", "z", "ùï´", "‚Ñ§"
    ]}
]

def find_word(inp_msg: str, file: str) -> bool:
    """
    –ò—â–µ—Ç —Å–ª–æ–≤–∞ –∏–∑ —Ñ–∞–π–ª–∞ –≤ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω–æ–º –≤—Ö–æ–¥–Ω–æ–º —Ç–µ–∫—Å—Ç–µ.

    –§—É–Ω–∫—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Ö–æ–¥–Ω–æ–π —Ç–µ–∫—Å—Ç –∏–∑ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤ –∫–∏—Ä–∏–ª–ª–∏—Ü—É,
    –∑–∞—Ç–µ–º –∏—â–µ—Ç –≤ –Ω–µ–º —Å–ª–æ–≤–∞ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.

    Args:
        inp_msg (str): –í—Ö–æ–¥–Ω–æ–π —Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.
        file (str): –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å–æ —Å–ø–∏—Å–∫–æ–º —Å–ª–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞.

    Returns:
        bool: True, –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —Å–ª–æ–≤–æ, –∏–Ω–∞—á–µ False.

    –ü–µ—á–∞—Ç–∞–µ—Ç:
        - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
        - –ù–∞–π–¥–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
    """
    with open(f'{file}', 'r', encoding='utf-8') as _f:
        _bl = re.split(r'[,\s]+', _f.read())
        print(f"ConvertedToRu: {f.convert_to_ru(inp_msg, abc_db)}\n")
        for _w in _bl:
            if _w in f.convert_to_ru(inp_msg, abc_db):
                print(f"Found: {_w}")
                return True
        return False

if __name__ == '__main__':
    # –û—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞
    start_time = time.perf_counter()
    print(f"Line: {sys.argv[1]}")
    print(f"File: {sys.argv[2]}")
    print(f"Result: {str(find_word(sys.argv[1], sys.argv[2]))}")
    end_time = time.perf_counter()
    print(f"Execution time: {end_time - start_time:.3f} seconds")
